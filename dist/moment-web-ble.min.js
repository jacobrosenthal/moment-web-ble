(function(){
'use strict';(function(g){function f(a,b,c,d,e){c().then(function(a){return d(a)}).catch(function(){if(0===a)return e();console.log("Retrying in "+b+"s... ("+a+" tries left)");setTimeout(function(){f(--a,2*b,c,d,e)},1E3*b)})}function k(a){f(10,2,function(){console.log("Connecting to Bluetooth Device... ");return a.a.g.connect()},function(b){console.log("> Bluetooth Device connected. Try disconnect it now.");a.b=b;m(a)},function(){console.log("Failed to reconnect.");a.b=!1})}function n(){k()}function m(a){f(10,
2,function(){console.log("Getting JS UART Service... ");return a.b.j("6E400001-B5A3-F393-E0A9-E50E24DCCA9E")},function(b){console.log("> JS UART Service Obtained.");a.f=b;p(a)},function(){console.log("Failed to get JS UART Service.");a.f=!1})}function p(a){f(10,2,function(){console.log("Getting JS UART Characteristic... ");return a.b.i("6E400002-B5A3-F393-E0A9-E50E24DCCA9E")},function(b){console.log("> JS UART Characteristic Obtained.");a.c=b},function(){console.log("Failed to get JS UART Characteristic.");
a.c=!1})}function l(a,b){if(0!=b.length){var c=Uint8Array.from(b.shift());f(10,2,function(){console.log("Writing JS UART Characteristic... ");return a.c.m(c)},function(){console.log("> JS UART Characteristic Written.");l(a,b)},function(){console.log("Failed to write JS UART Characteristic.")})}}function h(){this.c=this.f=this.b=this.a=!1}g=g.Moment=g.Moment||{};h.prototype.connect=function(){var a=this,b=navigator.h.l({filters:[{services:["00009B69-58FD-0A19-9B69-4CF88FC7B8DA"]}]});b.then(function(b){a.a=
b;b.addEventListener("gattserverdisconnected",n);k(a)});b.catch(function(){a.a=!1})};h.prototype.run=function(a){a+="\x00";for(var b=a.length/19+.5|0,c=Array(b),d=0,e=0;e<b;++e,d+=19)c[e]=a.substring(d,d+19);l(this,c)};h.prototype.disconnect=function(){this.a.g.disconnect()};g.Device=h})(Function("return this")());
}).call(this)
